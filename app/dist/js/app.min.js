/* layanshipin - v0.0.1 - 2016-11-16
** Copyright (c) 2016 */
"use strict";angular.module("myApp",["ngRoute","ngResource","myApp.controllers","myApp.services","myApp.directives","myApp.filters","myApp.version"]).config(["$locationProvider","$routeProvider","$sceDelegateProvider",function(a,b,c){a.hashPrefix("!"),b.when("/videos/:navId",{templateUrl:"templates/video-list.html",controller:"ListCtrl"}).when("/videos/:navId/:videoId",{templateUrl:"templates/video-detail.html",controller:"DetailCtrl"}).otherwise({redirectTo:"/videos/all"}),c.resourceUrlWhitelist(["self","http://7xu8zs.com1.z0.glb.clouddn.com/**","http://ogqa7iysz.bkt.clouddn.com/**"])}]),angular.module("myApp.controllers",[]).controller("MainCtrl",function(){}).controller("NavCtrl",["$location","Nav",function(a,b){var c=this,d=["/videos/all"];c.menus=b.query(function(a){for(var b=0;b<a.length;b++)d.push("/videos/"+a[b].id)}),c.category=function(b){return b===a.path()},c.crumb=function(){for(var b=a.path(),c=0;c<d.length;c++)if(b===d[c])return!1;return!0}}]).controller("ListCtrl",["$scope","$routeParams","Videos","Source",function(a,b,c,d){a.videos=c.query({navId:b.navId},function(a){angular.forEach(a,function(a){d.get({id:a.sourceId},function(b){a.sourceName=b.name,a.sourceImgUrl=b.imageUrl})})})}]).controller("DetailCtrl",["$scope","$routeParams","Video","Source",function(a,b,c,d){a.video=c.get({navId:b.navId,id:b.videoId},function(a){d.get({id:a.sourceId},function(b){a.sourceName=b.name,a.sourceImgUrl=b.imageUrl})})}]),angular.module("myApp.services",[]).factory("Nav",["$resource",function(a){return a("data/nav.json")}]).factory("Videos",["$resource",function(a){return a("data/videos_:navId.json",{},{query:{method:"GET",params:{navId:"all"},isArray:!0}})}]).factory("Video",["$resource",function(a){return a("data/videos_:navId-:id.json")}]).factory("Source",["$resource",function(a){return a("data/source_:id.json")}]),angular.module("myApp.directives",[]).directive("appVersion",["version",function(a){return function(a,b,c){}}]),angular.module("myApp.filters",[]).filter("checkmark",function(){return function(a){return a?"✓":"✘"}});